---
title: 智能投递机器人
collection: talks
type: Talk
permalink: /talks/智能投递机器人
venue: 2024中国机器人大赛
date: "2024-11-01"
location: Nanjing, China
roles: 电控系统开发
excerpt: " “自动分拣机器人-智能投送赛项”的机器人，没有传承！一切始于新建文件夹！！却打败了所有人！！！"
---

# 2024中国机器人大赛智能投送机器人系统开发

## 项目概述

本项目面向2024中国机器人大赛“自动分拣机器人-智能投送赛项”，开发符合赛事规则的自主式智能投送机器人系统。

## 核心技术栈

### 🔧 硬件介绍
1. 控制部分：STM32F407/F103＋PCB电路，F1处理传感器信息，F4分析和计算控制数据
2. 运动部分：麦克纳姆轮底盘
3. 感知部分：分选：旋转码盘电机、颜色传感器，定位：openMV，灰度定位传感器
### 💻 软件与工具链

- 开发环境：STM32CubeMX（外设配置）+ Keil MDK5（代码编译）
- 核心算法：PID循迹控制（直线偏差修正）、分段式路径规划（适配不同赛事阶段任务）
- 系统调度：FreeRTOS实时操作系统（多任务优先级管理：循迹＞投送＞状态上报）
- 合规设计：硬件ID读取模块（启动时自动校验，防止同机复用）
- 赛事适配：时序优化算法（根据资格赛/淘汰赛/决赛的时间窗口调整运行参数），根据竞争对手实力准备了不同的速度和完成概率平衡的方案。

## 功能实现亮点

**双 MCU 协同架构，提升实时响应效率**

采用 “分工协作” 设计，解决单芯片算力瓶颈：
1. 数据采集层（STM32F103）：实时接收颜色传感器（货物识别）、灰度传感器（循迹）、旋转码盘（电机转速反馈）数据，经预处理后上传至F407
2. 核心控制层（STM32F407）：运行PID控制、路径规划算法，结合OpenMV全局定位数据，输出底盘运动、货物分选与投送的控制指令
3. 通信保障：通过定制PCB电路实现双MCU高速通信，保障多任务并行响应

**麦克纳姆轮全向移动 + 多源定位融合**

适配赛事赛道空间约束，实现灵活且精准的路径控制：

- 全向移动优势：基于麦克纳姆轮特性，完成 0 半径转向、斜向避让等动作，适配赛道狭窄区域的调度需求
- 定位闭环：灰度传感器实时采集跑道边线数据，PID 算法动态修正底盘姿态；OpenMV 视觉模块校准全局位置，补偿近距离定位累积误差，实现 “近 - 远” 定位互补

**智能分选 - 投送一体化闭环**
实现货物从识别到投送的全流程自动化：
- 货物识别：颜色传感器快速区分不同类型货物
- 精准分选：旋转码盘电机通过转速闭环控制，实现货物平稳归类
- 投送触发：结合 OpenMV 定位的投送点坐标与灰度传感器距离校准，到达指定位置后自动触发投送动作

**赛事动态策略，适配多场景竞争需求**
针对赛事不同阶段特性，设计可切换运行模式：
- 资格赛模式：优先保障稳定性，降低底盘速度，预留故障重试机制，确保顺利晋级
- 淘汰赛 / 决赛模式：根据对手表现动态调整参数，提供 “高效档”与 “稳健档”，平衡竞争效率与任务完成率
- 策略决策：通过赛前测试数据建模，预设不同对手实力对应的最优方案，赛事中一键切换

## 项目成果

- 完成机器人系统从硬件选型、PCB 设计到软件开发的全流程落地，通过大赛赛前合规校验（硬件 ID、功能适配性）
- 支撑团队顺利获得第一名，决赛阶段凭借全向移动灵活性与动态策略优势，展现高效投送能力，获得赛事认可
- 形成可复用的竞赛机器人开发框架，涵盖双 MCU 协同、多源定位融合、赛事策略适配等核心模块，为后续同类赛事提供技术参考
### 评曰

从零开始的项目，体会到了从零构建系统的乐趣，并且很幸遇的获得了很好的成绩，属于大学的高光时刻了。除此之外，冗余储备，团队沟通也是很重要的。

帅帅奖杯：
![[e34b0e0ef72d90748ba6781437043dc2.jpeg]]
