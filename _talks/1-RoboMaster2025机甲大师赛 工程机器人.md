---
title: RoboMaster2025机甲大师赛 工程机器人
collection: talks
type: Talk
permalink: /talks/RoboMaster2025机甲大师赛 工程机器人
venue: RoboMaster2025机甲大师赛
date: 2024-2025
roles: 视觉兑矿功能负责人
excerpt: 基于 ROS2+MoveIt2 的自动兑矿系统，实现物体6DoF位姿精准定位与机械臂自主控制
---
# 六自由度物体位姿定位&机械臂规划与控制

> 基于 ROS2+MoveIt2 的自动兑矿系统，实现物体6DoF位姿精准定位与机械臂自主控制

## 项目概述

本项目面向 RoboMaster2025 赛季工程机器人“自动兑矿”核心任务，构建了六自由度（6DoF）物体位姿定位与机械臂规划控制一体化解决方案。系统融合传统视觉与神经网络技术实现物体位姿（位置xyz+姿态rpy）精准解算，基于 ROS2 生态搭建模块化控制架构，支撑机器人在四级难度场景下完成自主抓取与兑矿操作。

## 核心技术栈

### 🔧 硬件平台
| 模块       | 型号/规格                                   | 作用                     |
| ---------- | ------------------------------------------- | ------------------------ |
| 上位机     | Intel NUC（x86架构）                        | 算法运行与系统协同调度   |
| 机械臂     | 六自由度七关节构型（平行抬升+SCARA关节+球形手腕） | 物体抓取与兑矿执行机构   |
| 传感器     | 深度相机（RGB-D）                           | 图像采集与点云数据获取   |
| 控制模块   | 工业级单片机（FreeRTOS）                    | 电机底层控制与信号交互   |
| 辅助组件   | 电源管理模块、机械固定结构                   | 系统供电与稳定运行保障   |

### 💻 软件与工具链

- 开发环境：Ubuntu22.04 LTS + ROS2 Humble + MoveIt2
- 核心算法：
  • 位姿定位：PnP（DLT/EPnP/BA）、ICP/Kabsch 点云配准、Gen6D 端到端模型
  • 融合方案：Yolo选点+PnP（弱纹理物体适配）
  • 机械臂控制：力反馈、重力补偿前馈控制
- 数据处理：Godot引擎（自动数据集生成，光线追踪+参数随机变换）
- 版本管理：Git + GitHub（开源仓库，完整开发记录）
- 调试工具：RViz（ROS2可视化）、点云处理工具、串口助手（状态监控）

## 功能实现亮点

**多方案融合位姿定位**  
针对不同场景需求设计分层方案：
- 结构化场景：采用 PnP 算法保障实时性与精度，适配光照稳定环境
- 复杂场景：通过 ICP/Kabsch 点云配准处理遮挡问题，结合 Gen6D 模型提升泛化性
- 弱纹理物体：基于 Godot 自动生成数据集，训练 Yolo 模型筛选特征点，联动 PnP 优化解算

**模块化协同架构**  
基于 ROS2 构建多节点通信体系：
```
节点1：Sensor_Data  // RGB-D图像采集与点云预处理
节点2：Pose_Estimation  // 多算法融合位姿解算
节点3：Arm_Control  // MoveIt2 轨迹规划与电机控制
节点4：State_Feedback  // 运行状态监控与反馈
```

**工程化适配与优化**  
- 适配 RoboMaster 四级难度位姿范围（X∈[-270,0]等），通过算法迭代降低累积误差
- 自主设计机械臂构型与电子线路拓扑，实现力反馈与重力补偿，提升抓取稳定性
- 开发自动化数据集生成流程，避免手动标注低效问题，增强模型抗干扰能力

## 项目成果

- 支撑团队斩获 RoboMaster 机甲大师赛东部赛区殿军，为团队历史最佳成绩，（虽然这个功能没派上很大用处）
- 开源仓库：[github.com/happyADD/AutoRedeemOpen](https://github.com/happyADD/AutoRedeemOpen)，[https://github.com/happyADD/AutoDataset](https://github.com/happyADD/AutoDataset),开发日志：[Notion链接](https://www.notion.so/1-2121ac4a6bc6812f8ee2cc65d71b5641?source=copy_link)
- 延伸成果：完成“预测时间多约束的柔性机械臂轨迹跟踪控制”论文实验

### 评曰

超级耗费精力和时间，但是也是对个人意志品质的磨练，团队沟通能力也是大大提升。
